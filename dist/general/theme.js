(()=>{function m(e){document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}function h(e,t=""){document.cookie=`${e}=${t}; path=/;`}function u(e){console.log(`applying ${e} theme`);let t=e==="__light"?"__dark":"__light",a=`*[class*='${t}']`,l=[...document.querySelectorAll(a)],o=new RegExp(t,"g");l.forEach(n=>{n.className=n.className.replace(o,e)})}function T(){let e=i();u(e?"__dark":"__light")}function d(){let e=document.getElementById("toggleTheme");e!==null&&(e.checked=i())}function i(){return document.cookie.match(/theme=__dark/i)!=null}function p(){let e=i();u(e?"__light":"__dark"),m("theme"),h("theme",e?"__light":"__dark")}(function(){T(),d();let e=document.getElementById("toggleTheme");e!==null&&(e.onchange=p)})();window.onload=function(){let e=document.getElementById("theme-root");e.style.transitionProperty="color, background-color",e.style.transitionDuration="300ms",e.style.transitionTimingFunction="ease";let[t]=document.querySelectorAll(".c-header-wrapper__light, .c-header-wrapper__dark");t instanceof HTMLElement&&(t.style.transitionProperty="background-color",t.style.transitionDuration="300ms",t.style.transitionTimingFunction="ease")};$(document).ready(function(){document.body.style.opacity="1"});var c=document.getElementById("themeSwitcher"),r=[],s={COLOR:"COLOR",HIGH_CONTRAST:"HIGH_CONTRAST",LOW_CONTRAST:"LOW_CONTRAST"},g=e=>{switch(e){case s.COLOR:c.classList.add("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.remove("cc-low-contrast");return;case s.HIGH_CONTRAST:c.classList.remove("cc-color-contrast"),c.classList.add("cc-high-contrast"),c.classList.remove("cc-low-contrast");return;case s.LOW_CONTRAST:c.classList.remove("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.add("cc-low-contrast");return;default:c.classList.remove("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.remove("cc-low-contrast");return}},L=e=>{let t=e.map(({isIntersecting:o,target:n})=>({isIntersecting:o,sectionType:n.className.includes("cc-color-contrast")?s.COLOR:n.className.includes("cc-high-contrast")?s.HIGH_CONTRAST:n.className.includes("cc-low-contrast")?s.LOW_CONTRAST:null})),a=t.filter(({isIntersecting:o})=>o).map(({sectionType:o})=>o).reverse();t.filter(({isIntersecting:o})=>!o).map(({sectionType:o})=>o).forEach(o=>{r.shift()}),r.unshift(...a),console.table(r),g(r[0])},y=new IntersectionObserver(L,{root:null,threshold:0,rootMargin:`${window.innerHeight}px 0px -40px 0px`}),f=["*[class*='cc-color-contrast']","*[class*='cc-high-contrast']","*[class*='cc-low-contrast']"].join(", "),E=[...document.querySelectorAll(f)];E.forEach(e=>{y.observe(e)});})();
//# sourceMappingURL=theme.js.map
