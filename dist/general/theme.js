(()=>{function l(e){document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}function m(e,c=""){document.cookie=`${e}=${c}`}function h(e){console.log(`applying ${e} theme`);let c=e==="__light"?"__dark":"__light",r=`*[class*='${c}']`;[...document.querySelectorAll(r)].forEach(t=>{t.className=t.className.replace(c,e)})}function u(){let e=i();h(e?"__dark":"__light")}function d(){let e=document.getElementById("toggleTheme");e.checked=i()}function i(){return document.cookie.match(/theme=__dark/i)!=null}function g(){let e=i();h(e?"__light":"__dark"),l("theme"),m("theme",e?"__light":"__dark")}(function(){u(),d();let e=document.getElementById("toggleTheme");e.onchange=g})();window.onload=function(){let e=document.getElementById("theme-root");e.style.transitionProperty="color, background-color",e.style.transitionDuration="300ms",e.style.transitionTimingFunction="ease"};var o=document.getElementById("themeSwitcher"),n=[],s={COLOR:"COLOR",HIGH_CONTRAST:"HIGH_CONTRAST",LOW_CONTRAST:"LOW_CONTRAST"},p=e=>{switch(e){case s.COLOR:o.classList.add("cc-color-contrast"),o.classList.remove("cc-high-contrast"),o.classList.remove("cc-low-contrast");return;case s.HIGH_CONTRAST:o.classList.remove("cc-color-contrast"),o.classList.add("cc-high-contrast"),o.classList.remove("cc-low-contrast");return;case s.LOW_CONTRAST:o.classList.remove("cc-color-contrast"),o.classList.remove("cc-high-contrast"),o.classList.add("cc-low-contrast");return;default:o.classList.remove("cc-color-contrast"),o.classList.remove("cc-high-contrast"),o.classList.remove("cc-low-contrast");return}},L=e=>{let c=e.map(({isIntersecting:t,target:a})=>({isIntersecting:t,sectionType:a.className.includes("cc-color-contrast")?s.COLOR:a.className.includes("cc-high-contrast")?s.HIGH_CONTRAST:a.className.includes("cc-low-contrast")?s.LOW_CONTRAST:null})),r=c.filter(({isIntersecting:t})=>t).map(({sectionType:t})=>t).reverse();c.filter(({isIntersecting:t})=>!t).map(({sectionType:t})=>t).forEach(t=>{n.shift()}),n.unshift(...r),console.table(n),p(n[0])},C=new IntersectionObserver(L,{root:null,threshold:0,rootMargin:`${window.innerHeight}px 0px -40px 0px`}),E=["*[class*='cc-color-contrast']","*[class*='cc-high-contrast']","*[class*='cc-low-contrast']"].join(", "),O=[...document.querySelectorAll(E)];O.forEach(e=>{C.observe(e)});})();
//# sourceMappingURL=theme.js.map
