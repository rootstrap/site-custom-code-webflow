(()=>{function i(e){console.log(`applying ${e} theme`);let s=e==="__light"?"__dark":"__light",r=`*[class*='${s}']`;[...document.querySelectorAll(r)].forEach(t=>{t.className=t.className.replace(s,e)})}function h(){let e=l();i(e?"__dark":"__light")}function T(){let e=document.getElementById("toggleTheme");e.checked=l()}function l(){return document.cookie.match(/theme=__dark/i)!=null}function u(){let e=l();i(e?"__light":"__dark"),document.cookie=`theme=${e?"__light":"__dark"}`}(function(){h(),T();let e=document.getElementById("toggleTheme");e.onchange=u})();window.onload=function(){let e=document.getElementById("theme-root");e.style.transitionProperty="color, background-color",e.style.transitionDuration="300ms",e.style.transitionTimingFunction="ease"};var c=document.getElementById("themeSwitcher"),n=[],o={COLOR:"COLOR",HIGH_CONTRAST:"HIGH_CONTRAST",LOW_CONTRAST:"LOW_CONTRAST"},d=e=>{switch(e){case o.COLOR:c.classList.add("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.remove("cc-low-contrast");return;case o.HIGH_CONTRAST:c.classList.remove("cc-color-contrast"),c.classList.add("cc-high-contrast"),c.classList.remove("cc-low-contrast");return;case o.LOW_CONTRAST:c.classList.remove("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.add("cc-low-contrast");return;default:c.classList.remove("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.remove("cc-low-contrast");return}},L=e=>{let s=e.map(({isIntersecting:t,target:a})=>({isIntersecting:t,sectionType:a.className.includes("cc-color-contrast")?o.COLOR:a.className.includes("cc-high-contrast")?o.HIGH_CONTRAST:a.className.includes("cc-low-contrast")?o.LOW_CONTRAST:null})),r=s.filter(({isIntersecting:t})=>t).map(({sectionType:t})=>t).reverse();s.filter(({isIntersecting:t})=>!t).map(({sectionType:t})=>t).forEach(t=>{n.shift()}),n.unshift(...r),console.table(n),d(n[0])},g=new IntersectionObserver(L,{root:null,threshold:0,rootMargin:`${window.innerHeight}px 0px -40px 0px`}),p=["*[class*='cc-color-contrast']","*[class*='cc-high-contrast']","*[class*='cc-low-contrast']"].join(", "),E=[...document.querySelectorAll(p)];E.forEach(e=>{g.observe(e)});})();
//# sourceMappingURL=theme.js.map
