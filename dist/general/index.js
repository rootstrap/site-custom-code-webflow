(()=>{function h(e){console.log(`applying ${e} theme`);let t=e==="__light"?"__dark":"__light",s=`*[class*='${t}']`;[...document.querySelectorAll(s)].forEach(o=>{o.className=o.className.replace(t,e)})}function w(){let e=a();h(e?"__dark":"__light")}function f(){let e=document.getElementById("toggleTheme");e.checked=a()}function a(){return document.cookie.match(/theme=__dark/i)!=null}function L(){let e=a();h(e?"__light":"__dark"),document.cookie=`theme=${e?"__light":"__dark"}`}(function(){w(),f();let e=document.getElementById("toggleTheme");e.onchange=L})();window.onload=function(){let e=document.getElementById("theme-root");e.style.transitionProperty="color, background-color",e.style.transitionDuration="300ms",e.style.transitionTimingFunction="ease"};var c=document.getElementById("themeSwitcher"),i=[],n={COLOR:"COLOR",HIGH_CONTRAST:"HIGH_CONTRAST",LOW_CONTRAST:"LOW_CONTRAST"},y=e=>{switch(e){case n.COLOR:c.classList.add("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.remove("cc-low-contrast");return;case n.HIGH_CONTRAST:c.classList.remove("cc-color-contrast"),c.classList.add("cc-high-contrast"),c.classList.remove("cc-low-contrast");return;case n.LOW_CONTRAST:c.classList.remove("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.add("cc-low-contrast");return;default:c.classList.remove("cc-color-contrast"),c.classList.remove("cc-high-contrast"),c.classList.remove("cc-low-contrast");return}},O=e=>{let t=e.map(({isIntersecting:o,target:l})=>({isIntersecting:o,sectionType:l.className.includes("cc-color-contrast")?n.COLOR:l.className.includes("cc-high-contrast")?n.HIGH_CONTRAST:l.className.includes("cc-low-contrast")?n.LOW_CONTRAST:null})),s=t.filter(({isIntersecting:o})=>o).map(({sectionType:o})=>o).reverse();t.filter(({isIntersecting:o})=>!o).map(({sectionType:o})=>o).forEach(o=>{i.shift()}),i.unshift(...s),console.table(i),y(i[0])},E=new IntersectionObserver(O,{root:null,threshold:0,rootMargin:`${window.innerHeight}px 0px -40px 0px`}),k=["*[class*='cc-color-contrast']","*[class*='cc-high-contrast']","*[class*='cc-low-contrast']"].join(", "),v=[...document.querySelectorAll(k)];v.forEach(e=>{E.observe(e)});var d=d||[],u="480px",b="768px",S="992px",H=window.matchMedia(`(max-width: ${u})`),I=window.matchMedia(`(min-width: ${u})`),_=window.matchMedia(`(min-width: ${b})`),p=window.matchMedia(`(min-width: ${S})`);function T(){let e=$(document.body),t=0;e.css("overflow")!="hidden"&&(t=window.pageYOffset),e.css("overflow",""),e.css("position",""),e.css("top",""),e.width(""),$(window).scrollTop(t)}function M(){let e=$(document.body),t=0,s=e.innerWidth();t=window.pageYOffset,e.css("overflow","hidden"),e.css("position","fixed"),e.css("top",`-${t}px`),e.width(s)}function r(){T(),m("auto")}function m(e){let t=$(".c-theme-switcher-container__light , .c-theme-switcher-container__dark");e==="auto"&&(p.matches?t.css("display","block"):t.css("display","none")),e==="visible"&&t.css("display","block")}H.addEventListener("change",r);I.addEventListener("change",r);_.addEventListener("change",r);p.addEventListener("change",r);d.push(function(){$('[menu="open"]').on("click",function(){M(),m("visible")}),$('[menu="close"]').on("click",function(){T(),m("auto")})});})();
//# sourceMappingURL=index.js.map
